<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Multilingual RAG System</title>
  <meta name="description" content="Production-grade Multilingual RAG System with ServiceNow Integration" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap"
    rel="stylesheet" />
  <link rel="stylesheet" href="/static/styles.css" />
</head>

<body>
  <div class="bg-glow"></div>
  <div id="toast-container" class="toast-container"></div>

  <div class="app-container">
    <!-- Header -->
    <header class="header">
      <h1>üß† Multilingual RAG</h1>
      <p>Upload documents in any language ‚Ä¢ Ask questions ‚Ä¢ Get answers</p>
      <div class="badge-row">
        <span class="badge"><span class="dot"></span> System Online</span>
        <span class="badge">üåê Multilingual</span>
        <span class="badge">üîí No Hallucination</span>
      </div>
    </header>

    <!-- Tabs -->
    <div class="tabs" role="tablist">
      <button class="tab-btn active" data-tab="chat" role="tab">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z" />
        </svg>
        Ask Question
      </button>
      <button class="tab-btn" data-tab="upload" role="tab">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4" />
          <polyline points="17 8 12 3 7 8" />
          <line x1="12" y1="3" x2="12" y2="15" />
        </svg>
        Upload PDF
      </button>
      <button class="tab-btn" data-tab="documents" role="tab">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z" />
          <polyline points="14 2 14 8 20 8" />
        </svg>
        Documents
      </button>
      <button class="tab-btn" data-tab="servicenow" role="tab">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <rect x="2" y="3" width="20" height="14" rx="2" />
          <line x1="8" y1="21" x2="16" y2="21" />
          <line x1="12" y1="17" x2="12" y2="21" />
        </svg>
        ServiceNow
      </button>
    </div>

    <!-- Chat Panel -->
    <div class="tab-panel active" id="panel-chat">
      <div class="card">
        <div class="chat-container">
          <div class="chat-messages" id="chat-messages">
            <div class="chat-bubble assistant">
              üëã Hi! I'm your multilingual document assistant. Upload a PDF first, then ask me anything about it ‚Äî in
              any language! I'll answer in the same language you ask.
            </div>
          </div>
          <div class="chat-input-row">
            <input type="text" class="chat-input" id="chat-input" placeholder="Ask a question in any language..."
              autocomplete="off" />
            <button class="btn btn-primary" id="btn-ask" onclick="askQuestion()">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <line x1="22" y1="2" x2="11" y2="13" />
                <polygon points="22 2 15 22 11 13 2 9 22 2" />
              </svg>
              Send
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Upload Panel -->
    <div class="tab-panel" id="panel-upload">
      <div class="card">
        <div class="card-title">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4" />
            <polyline points="17 8 12 3 7 8" />
            <line x1="12" y1="3" x2="12" y2="15" />
          </svg>
          Upload Document
        </div>
        <div class="upload-zone" id="upload-zone">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4" />
            <polyline points="17 8 12 3 7 8" />
            <line x1="12" y1="3" x2="12" y2="15" />
          </svg>
          <p>Drag & drop your PDF here, or <span class="browse-link">browse</span></p>
          <p class="file-hint">PDF files only ‚Ä¢ Max 50 MB ‚Ä¢ Any language supported</p>
          <input type="file" id="file-input" accept=".pdf,application/pdf" />
        </div>
        <div class="upload-progress" id="upload-progress">
          <div class="progress-bar-track">
            <div class="progress-bar-fill" id="progress-fill"></div>
          </div>
          <p class="progress-text" id="progress-text">Uploading...</p>
        </div>
      </div>
    </div>

    <!-- Documents Panel -->
    <div class="tab-panel" id="panel-documents">
      <div class="card">
        <div class="card-title" style="justify-content: space-between;">
          <span style="display:flex;align-items:center;gap:8px;">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z" />
              <polyline points="14 2 14 8 20 8" />
            </svg>
            Indexed Documents
          </span>
          <button class="btn btn-ghost" id="btn-refresh" onclick="loadDocuments()">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="23 4 23 10 17 10" />
              <path d="M20.49 15a9 9 0 11-2.12-9.36L23 10" />
            </svg>
            Refresh
          </button>
        </div>
        <div class="doc-list" id="doc-list">
          <div class="empty-state">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z" />
              <polyline points="14 2 14 8 20 8" />
            </svg>
            <p>No documents indexed yet. Upload a PDF to get started.</p>
          </div>
        </div>
      </div>
    </div>

    <!-- ServiceNow Panel -->
    <div class="tab-panel" id="panel-servicenow">
      <div class="card">
        <div class="card-title">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="2" y="3" width="20" height="14" rx="2" />
            <line x1="8" y1="21" x2="16" y2="21" />
            <line x1="12" y1="17" x2="12" y2="21" />
          </svg>
          ServiceNow CMDB Lookup
        </div>
        <div class="sn-form">
          <input type="text" class="sn-input" id="sn-host-input" placeholder="Enter hostname (e.g. server01)"
            autocomplete="off" />
          <button class="btn btn-primary" id="btn-sn-lookup" onclick="lookupHost()">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="11" cy="11" r="8" />
              <line x1="21" y1="21" x2="16.65" y2="16.65" />
            </svg>
            Lookup
          </button>
        </div>
        <div class="sn-result" id="sn-result">
          <table class="sn-table" id="sn-table"></table>
        </div>
      </div>
    </div>
  </div>

  <script src="/static/app.js?v=2"></script>
</body>

</html>